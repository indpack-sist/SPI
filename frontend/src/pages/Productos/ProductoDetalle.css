/* =====================================================
   PRODUCTO DETALLE — INDUSTRIAL DARK THEME
   Usa variables de index.css
   ===================================================== */

.producto-detalle-container {
  padding: 1.5rem;
  max-width: 1600px;
  margin: 0 auto;
}

/* =====================================================
   SECCIÓN INFO PRODUCTO
   ===================================================== */

.seccion-info-producto {
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: 2px;
  padding: 2rem;
  margin-bottom: 2rem;
}

.seccion-header {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1.5rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid var(--border);
}

.seccion-header h2 {
  font-family: 'Barlow Condensed', sans-serif;
  font-size: 1.25rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-primary);
  margin: 0;
}

.seccion-subtitulo {
  color: var(--text-secondary);
  font-size: 0.813rem;
  margin-top: 0.25rem;
}

/* =====================================================
   GRID INFO
   ===================================================== */

.info-producto-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1rem;
  margin-bottom: 1.5rem;
}

.info-card {
  background: var(--bg-tertiary);
  border: 1px solid var(--border);
  border-radius: 2px;
  overflow: hidden;
  transition: border-color 0.2s;
}

.info-card:hover {
  border-color: var(--steel);
}

.info-card-header {
  background: var(--carbon-light);
  padding: 0.75rem 1.25rem;
  border-bottom: 1px solid var(--border);
  border-left: 3px solid var(--accent);
}

.info-card-header h3 {
  margin: 0;
  font-family: 'Barlow Condensed', sans-serif;
  font-size: 0.813rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: var(--accent);
}

.info-card-body {
  padding: 1.25rem;
}

/* =====================================================
   FILAS INFO
   ===================================================== */

.info-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.6rem 0;
  border-bottom: 1px solid var(--border);
}

.info-row:last-child {
  border-bottom: none;
}

.info-label {
  font-size: 0.813rem;
  color: var(--text-secondary);
  font-family: 'Barlow Condensed', sans-serif;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.info-value {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--text-primary);
  text-align: right;
}

.codigo-badge {
  background: var(--carbon-light);
  color: var(--accent);
  padding: 0.2rem 0.6rem;
  border: 1px solid var(--accent-border);
  border-radius: 2px;
  font-family: 'Courier New', monospace;
  font-size: 0.813rem;
  letter-spacing: 0.05em;
}

/* =====================================================
   STOCK CARD
   ===================================================== */

.stock-principal {
  text-align: center;
  padding: 1.5rem 1rem;
  background: var(--carbon-light);
  border: 1px solid var(--border);
  border-radius: 2px;
  margin-bottom: 1rem;
}

.stock-label {
  display: block;
  font-family: 'Barlow Condensed', sans-serif;
  font-size: 0.688rem;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.15em;
  margin-bottom: 0.5rem;
}

.stock-valor-grande {
  display: flex;
  align-items: baseline;
  justify-content: center;
  gap: 0.5rem;
  font-size: 2.5rem;
  font-weight: 700;
  color: var(--accent);
  line-height: 1;
  font-family: 'Barlow Condensed', sans-serif;
}

.stock-unidad {
  font-size: 1rem;
  font-weight: 500;
  color: var(--text-secondary);
}

.valor-destacado {
  color: var(--success) !important;
  font-weight: 700 !important;
}

/* =====================================================
   CUP
   ===================================================== */

.cup-principal {
  text-align: center;
  padding: 1.25rem 1rem;
  background: var(--accent-dim);
  border: 1px solid var(--accent-border);
  border-radius: 2px;
  margin-bottom: 1rem;
}

.cup-label {
  display: block;
  font-family: 'Barlow Condensed', sans-serif;
  font-size: 0.688rem;
  color: var(--accent);
  text-transform: uppercase;
  letter-spacing: 0.15em;
  margin-bottom: 0.5rem;
}

.cup-valor-grande {
  display: block;
  font-size: 1.75rem;
  font-weight: 700;
  color: var(--accent);
  font-family: 'Barlow Condensed', sans-serif;
  line-height: 1;
}

.cup-info {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-top: 0.75rem;
  padding: 0.5rem;
  border-radius: 2px;
  font-size: 0.813rem;
}

.cup-info.success {
  background: rgba(46, 204, 113, 0.08);
  color: var(--success);
  border: 1px solid rgba(46, 204, 113, 0.2);
}

.cup-info.warning {
  background: rgba(243, 156, 18, 0.08);
  color: var(--warning);
  border: 1px solid rgba(243, 156, 18, 0.2);
}

.cup-sin-valor {
  color: var(--danger);
  font-size: 0.813rem;
  font-style: italic;
}

.cup-sin-valor-card {
  background: rgba(231, 76, 60, 0.06);
  border: 1px dashed rgba(231, 76, 60, 0.3);
  border-radius: 2px;
  padding: 1.25rem;
  text-align: center;
}

.cup-advertencia {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-top: 0.75rem;
  padding: 0.5rem;
  background: rgba(231, 76, 60, 0.06);
  border: 1px solid rgba(231, 76, 60, 0.2);
  border-radius: 2px;
  font-size: 0.813rem;
  color: var(--danger);
}

/* Costos y precios info panel */
.grid.grid-cols-2.gap-4.mb-4.bg-gray-50 {
  background: var(--carbon-light) !important;
  border: 1px solid var(--border) !important;
  border-radius: 2px !important;
}

/* =====================================================
   DESCRIPCIÓN
   ===================================================== */

.descripcion-producto {
  background: var(--carbon-light);
  border-left: 3px solid var(--accent);
  padding: 1.25rem;
  border-radius: 2px;
  margin-top: 1.5rem;
}

.descripcion-producto h4 {
  margin: 0 0 0.5rem 0;
  font-family: 'Barlow Condensed', sans-serif;
  font-size: 0.875rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--accent);
}

.descripcion-producto p {
  margin: 0;
  color: var(--text-secondary);
  line-height: 1.6;
  font-size: 0.875rem;
}

/* =====================================================
   TABS PRINCIPALES
   ===================================================== */

.seccion-tabs {
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: 2px;
  overflow: hidden;
}

.tabs-header {
  display: flex;
  gap: 0;
  padding: 0;
  background: var(--carbon-light);
  border-bottom: 1px solid var(--border);
}

.tab-button {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.875rem 1.5rem;
  background: transparent;
  border: none;
  border-right: 1px solid var(--border);
  font-family: 'Barlow Condensed', sans-serif;
  font-size: 0.813rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--text-secondary);
  cursor: pointer;
  transition: all 0.2s;
}

.tab-button:hover {
  background: var(--bg-tertiary);
  color: var(--text-primary);
}

.tab-button.active {
  background: var(--bg-tertiary);
  color: var(--accent);
  border-bottom: 2px solid var(--accent);
  box-shadow: none;
}

.tabs-content {
  padding: 2rem;
}

/* =====================================================
   RECETAS TABS
   ===================================================== */

.recetas-tabs-container {
  background: var(--carbon-light);
  border: 1px solid var(--border);
  border-radius: 2px;
  padding: 1rem;
  margin-bottom: 1.5rem;
}

.recetas-tabs {
  display: flex;
  gap: 0.75rem;
  overflow-x: auto;
  padding-bottom: 0.5rem;
}

.recetas-tabs::-webkit-scrollbar {
  height: 4px;
}

.recetas-tabs::-webkit-scrollbar-track {
  background: var(--border);
}

.recetas-tabs::-webkit-scrollbar-thumb {
  background: var(--steel);
  border-radius: 0;
}

.receta-tab {
  min-width: 200px;
  background: var(--bg-tertiary);
  border: 1px solid var(--border);
  border-radius: 2px;
  padding: 0.875rem 1rem;
  cursor: pointer;
  transition: all 0.2s;
  text-align: left;
}

.receta-tab:hover {
  border-color: var(--steel);
  background: var(--bg-secondary);
}

.receta-tab.active {
  background: var(--accent-dim);
  border-color: var(--accent);
  border-left: 3px solid var(--accent);
}

.receta-tab-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 0.4rem;
}

.receta-star {
  color: var(--accent);
  flex-shrink: 0;
}

.receta-tab-nombre {
  font-family: 'Barlow Condensed', sans-serif;
  font-weight: 700;
  font-size: 0.938rem;
  flex: 1;
  color: var(--text-primary);
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

.receta-icono-activo { color: var(--success); flex-shrink: 0; }
.receta-icono-inactivo { color: var(--danger); flex-shrink: 0; }

.receta-tab-info {
  font-size: 0.75rem;
  color: var(--text-secondary);
  margin-top: 0.2rem;
}

.receta-tab-costo {
  font-family: 'Barlow Condensed', sans-serif;
  font-weight: 700;
  font-size: 0.875rem;
  color: var(--success);
  margin-top: 0.2rem;
}

.receta-tab.active .receta-tab-costo { color: var(--accent); }

.receta-tab-version {
  font-size: 0.75rem;
  color: var(--text-secondary);
  font-family: monospace;
}

/* =====================================================
   DETALLE RECETA
   ===================================================== */

.receta-detalle-header {
  background: var(--carbon-light);
  border: 1px solid var(--border);
  border-left: 3px solid var(--accent);
  border-radius: 2px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  display: flex;
  justify-content: space-between;
  gap: 1.5rem;
}

.receta-detalle-info { flex: 1; }

.receta-titulo-badges {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 0.75rem;
}

.receta-titulo-badges h3 {
  font-family: 'Barlow Condensed', sans-serif;
  font-size: 1.25rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: var(--text-primary);
  margin: 0;
}

.receta-badges {
  display: flex;
  gap: 0.5rem;
}

.receta-descripcion {
  color: var(--text-secondary);
  font-style: italic;
  margin-bottom: 1rem;
  font-size: 0.875rem;
}

/* =====================================================
   MÉTRICAS
   ===================================================== */

.receta-metricas {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 0.75rem;
}

.metrica-card {
  background: var(--bg-tertiary);
  border: 1px solid var(--border);
  border-radius: 2px;
  padding: 0.875rem;
  text-align: center;
  transition: border-color 0.2s;
}

.metrica-card:hover {
  border-color: var(--steel);
}

.metrica-card.destacado {
  background: var(--accent-dim);
  border-color: var(--accent-border);
}

.metrica-label {
  font-family: 'Barlow Condensed', sans-serif;
  font-size: 0.688rem;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.12em;
  margin-bottom: 0.4rem;
}

.metrica-valor {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.4rem;
  font-family: 'Barlow Condensed', sans-serif;
  font-size: 1.375rem;
  font-weight: 700;
  color: var(--text-primary);
}

.metrica-card.destacado .metrica-valor { color: var(--accent); }

.metrica-unidad {
  font-size: 0.813rem;
  font-weight: 500;
  color: var(--text-secondary);
}

.receta-detalle-acciones {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

/* =====================================================
   INSUMOS
   ===================================================== */

.insumos-section { margin-top: 1.5rem; }

.insumos-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 1.5rem;
}

.insumos-header h4 {
  font-family: 'Barlow Condensed', sans-serif;
  font-size: 1rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin: 0 0 0.25rem 0;
  color: var(--text-primary);
}

.insumos-header p {
  color: var(--text-secondary);
  font-size: 0.813rem;
  margin: 0;
}

.insumos-tabla-container {
  border: 1px solid var(--border);
  border-radius: 2px;
  overflow: hidden;
  margin-bottom: 1.5rem;
}

/* Celdas de tabla */
.orden-badge {
  background: var(--carbon-light);
  color: var(--text-secondary);
  padding: 0.2rem 0.5rem;
  border: 1px solid var(--border);
  border-radius: 2px;
  font-family: 'Barlow Condensed', sans-serif;
  font-weight: 700;
  font-size: 0.813rem;
}

.orden-vacio { color: var(--steel); }

.codigo-text {
  font-family: 'Courier New', monospace;
  font-size: 0.813rem;
  color: var(--text-secondary);
  font-weight: 600;
}

.insumo-cell {
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
}

.insumo-nombre {
  font-weight: 600;
  color: var(--text-primary);
  font-size: 0.875rem;
}

.badge-critico {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
}

.insumo-notas {
  font-size: 0.75rem;
  color: var(--text-secondary);
  font-style: italic;
}

.cantidad-cell {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 0.2rem;
}

.cantidad-valor {
  font-family: 'Barlow Condensed', sans-serif;
  font-weight: 700;
  font-size: 1rem;
  color: var(--text-primary);
}

.cantidad-unidad {
  font-size: 0.688rem;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.cup-cell {
  text-align: right;
  font-size: 0.875rem;
  color: var(--text-primary);
}

.costo-total-cell {
  text-align: right;
  font-family: 'Barlow Condensed', sans-serif;
  font-weight: 700;
  font-size: 1rem;
  color: var(--success);
}

.stock-cell {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 0.2rem;
}

.stock-valor { font-weight: 600; font-size: 0.875rem; }
.stock-suficiente { color: var(--success); }
.stock-insuficiente { color: var(--danger); }

.stock-alerta {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  font-size: 0.688rem;
  color: var(--danger);
  font-family: 'Barlow Condensed', sans-serif;
  text-transform: uppercase;
  letter-spacing: 0.06em;
}

.acciones-cell {
  display: flex;
  gap: 0.5rem;
  justify-content: center;
}

/* =====================================================
   RESUMEN COSTOS
   ===================================================== */

.costos-resumen {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 1rem;
}

.costo-card {
  background: var(--bg-tertiary);
  border: 1px solid var(--border);
  border-radius: 2px;
  padding: 1.25rem;
  display: flex;
  gap: 1rem;
  align-items: center;
  transition: border-color 0.2s;
}

.costo-card:hover {
  border-color: var(--steel);
}

.costo-card.destacado {
  background: var(--accent-dim);
  border-color: var(--accent-border);
}

.costo-icono {
  width: 44px;
  height: 44px;
  background: var(--carbon-light);
  border: 1px solid var(--border);
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--accent);
  flex-shrink: 0;
}

.costo-card.destacado .costo-icono {
  background: var(--accent-dim);
  border-color: var(--accent-border);
  color: var(--accent);
}

.costo-info { flex: 1; }

.costo-label {
  font-family: 'Barlow Condensed', sans-serif;
  font-size: 0.688rem;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.12em;
  margin-bottom: 0.4rem;
}

.costo-valor {
  font-family: 'Barlow Condensed', sans-serif;
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--text-primary);
  line-height: 1;
  margin-bottom: 0.25rem;
}

.costo-card.destacado .costo-valor { color: var(--accent); }

.costo-descripcion {
  font-size: 0.75rem;
  color: var(--text-secondary);
}

/* =====================================================
   HISTORIAL
   ===================================================== */

.historial-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 1.5rem;
}

.historial-header h2 {
  font-family: 'Barlow Condensed', sans-serif;
  font-size: 1.25rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin: 0 0 0.4rem 0;
  color: var(--text-primary);
}

.historial-header p {
  color: var(--text-secondary);
  font-size: 0.813rem;
  margin: 0;
}

.historial-filtros {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.historial-tabla-container {
  border: 1px solid var(--border);
  border-radius: 2px;
  overflow: hidden;
}

/* Celdas historial */
.fecha-text {
  font-size: 0.813rem;
  color: var(--text-secondary);
  font-family: monospace;
}

.tipo-movimiento-cell {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.813rem;
}

.inventario-text {
  font-size: 0.813rem;
  color: var(--text-primary);
  font-weight: 500;
}

.destino-cell {
  display: flex;
  flex-direction: column;
  gap: 0.2rem;
}

.destino-principal {
  font-weight: 600;
  color: var(--text-primary);
  font-size: 0.875rem;
}

.destino-documento {
  font-size: 0.75rem;
  color: var(--text-secondary);
  font-family: monospace;
}

.cantidad-historial {
  font-family: 'Barlow Condensed', sans-serif;
  font-weight: 700;
  color: var(--text-primary);
  font-size: 1rem;
}

.costo-unitario-text {
  font-size: 0.813rem;
  color: var(--text-secondary);
}

.costo-total-historial {
  font-family: 'Barlow Condensed', sans-serif;
  font-weight: 700;
  color: var(--success);
  font-size: 1rem;
}

.registrado-text {
  font-size: 0.813rem;
  color: var(--text-secondary);
}

/* =====================================================
   EMPTY STATE
   ===================================================== */

.empty-state {
  text-align: center;
  padding: 4rem 2rem;
}

.empty-icon {
  color: var(--steel);
  margin: 0 auto 1.5rem;
  opacity: 0.4;
}

.empty-state h3 {
  font-family: 'Barlow Condensed', sans-serif;
  font-size: 1.125rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: var(--text-primary);
  margin: 0 0 0.5rem 0;
}

.empty-state p {
  color: var(--text-secondary);
  margin: 0 0 1.5rem 0;
  max-width: 480px;
  margin-left: auto;
  margin-right: auto;
  line-height: 1.6;
  font-size: 0.875rem;
}

/* =====================================================
   MODALES
   ===================================================== */

.form-checkbox-label {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  cursor: pointer;
  color: var(--text-primary);
  font-size: 0.875rem;
}

.form-checkbox-label input[type="checkbox"] {
  cursor: pointer;
  accent-color: var(--accent);
}

.modal-actions {
  display: flex;
  gap: 0.75rem;
  justify-content: flex-end;
  margin-top: 1.5rem;
  padding-top: 1rem;
  border-top: 1px solid var(--border);
}

/* =====================================================
   EVOLUCIÓN CUP / DESGLOSE
   ===================================================== */

.cup-desglose {
  margin-top: 1rem;
  border: 1px solid var(--border);
  border-radius: 2px;
  overflow: hidden;
}

.cup-desglose summary {
  padding: 0.625rem 1rem;
  background: var(--carbon-light);
  cursor: pointer;
  font-family: 'Barlow Condensed', sans-serif;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--text-secondary);
  display: flex;
  align-items: center;
  gap: 0.5rem;
  transition: color 0.2s;
  list-style: none;
}

.cup-desglose summary:hover { color: var(--text-primary); }

.cup-desglose summary::before {
  content: '▶';
  font-size: 0.625rem;
  transition: transform 0.2s;
  color: var(--accent);
}

.cup-desglose[open] summary::before { transform: rotate(90deg); }

.cup-evolucion-tabla {
  margin-top: 0;
  border-top: 1px solid var(--border);
  overflow: hidden;
}

.cup-evolucion-tabla table {
  width: 100%;
  border-collapse: collapse;
}

.cup-evolucion-tabla thead {
  background: var(--carbon-light);
}

.cup-evolucion-tabla th {
  padding: 0.625rem 0.75rem;
  text-align: left;
  font-family: 'Barlow Condensed', sans-serif;
  font-weight: 700;
  font-size: 0.688rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--text-secondary);
  border-bottom: 1px solid var(--border);
}

.cup-evolucion-tabla td {
  padding: 0.625rem 0.75rem;
  border-bottom: 1px solid var(--border);
  font-size: 0.813rem;
  color: var(--text-primary);
}

.cup-evolucion-tabla tbody tr:hover {
  background: var(--carbon-light);
}

.cup-evolucion-tabla tbody tr:last-child td {
  border-bottom: none;
  font-weight: 700;
  color: var(--accent);
  background: var(--accent-dim);
}

.cup-tendencia {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.2rem 0.5rem;
  border-radius: 2px;
  font-size: 0.688rem;
  font-weight: 600;
  font-family: 'Barlow Condensed', sans-serif;
  text-transform: uppercase;
  letter-spacing: 0.06em;
}

.cup-tendencia.sube {
  background: rgba(231, 76, 60, 0.1);
  color: var(--danger);
  border: 1px solid rgba(231, 76, 60, 0.2);
}

.cup-tendencia.baja {
  background: rgba(46, 204, 113, 0.1);
  color: var(--success);
  border: 1px solid rgba(46, 204, 113, 0.2);
}

.cup-tendencia.igual {
  background: var(--carbon-light);
  color: var(--text-secondary);
  border: 1px solid var(--border);
}

/* =====================================================
   TOOLTIP
   ===================================================== */

.info-tooltip {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-left: 0.4rem;
  font-size: 0.75rem;
  color: var(--accent);
  cursor: help;
  background: var(--accent-dim);
  border: 1px solid var(--accent-border);
  width: 16px;
  height: 16px;
  border-radius: 2px;
  transition: all 0.15s;
}

.info-tooltip::after {
  content: attr(title);
  position: absolute;
  bottom: 140%;
  left: 50%;
  transform: translateX(-50%) translateY(8px);
  background: var(--carbon-light);
  color: var(--text-primary);
  border: 1px solid var(--border);
  padding: 6px 10px;
  border-radius: 2px;
  font-size: 0.75rem;
  font-weight: 400;
  line-height: 1.4;
  white-space: pre-wrap;
  width: max-content;
  max-width: 200px;
  text-align: center;
  z-index: 100;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
  opacity: 0;
  visibility: hidden;
  transition: all 0.15s;
  pointer-events: none;
}

.info-tooltip::before {
  content: "";
  position: absolute;
  bottom: 115%;
  left: 50%;
  transform: translateX(-50%) translateY(8px);
  border: 5px solid transparent;
  border-top-color: var(--border);
  z-index: 100;
  opacity: 0;
  visibility: hidden;
  transition: all 0.15s;
}

.info-tooltip:hover::after,
.info-tooltip:hover::before {
  opacity: 1;
  visibility: visible;
  transform: translateX(-50%) translateY(0);
}

.info-tooltip:hover {
  background: var(--accent);
  color: #0f0f0f;
}

/* info-row resaltada con valor destacado */
.info-row:has(.valor-destacado) {
  background: rgba(46, 204, 113, 0.04);
  padding: 0.6rem 0.5rem;
  border-radius: 2px;
  margin: 0.25rem 0;
  border: 1px solid rgba(46, 204, 113, 0.12);
  border-bottom: 1px solid rgba(46, 204, 113, 0.12);
}

/* =====================================================
   OVERRIDES para clases Tailwind hardcodeadas en JSX
   ===================================================== */

/* Panel CUP inventario (bg-gray-50 inline en jsx) */
.info-card-body .bg-gray-50 {
  background: var(--carbon-light) !important;
  border-color: var(--border) !important;
}

.info-card-body .text-primary { color: var(--accent) !important; }
.info-card-body .text-success  { color: var(--success) !important; }
.info-card-body .text-muted    { color: var(--text-secondary) !important; }

/* Texto gris del JSX */
.text-gray-500 { color: var(--text-secondary) !important; }

/* =====================================================
   RESPONSIVE
   ===================================================== */

@media (max-width: 768px) {
  .producto-detalle-container { padding: 1rem; }
  .info-producto-grid { grid-template-columns: 1fr; }
  .receta-detalle-header { flex-direction: column; }
  .receta-detalle-acciones { flex-direction: row; width: 100%; }
  .receta-metricas { grid-template-columns: repeat(2, 1fr); }
  .costos-resumen { grid-template-columns: 1fr; }
  .historial-header { flex-direction: column; gap: 1rem; }
  .historial-filtros { width: 100%; }
  .tabs-header { flex-direction: column; }
  .tab-button { width: 100%; justify-content: center; border-right: none; border-bottom: 1px solid var(--border); }
  .cup-evolucion-tabla { overflow-x: auto; }
  .cup-evolucion-tabla table { min-width: 480px; }
}